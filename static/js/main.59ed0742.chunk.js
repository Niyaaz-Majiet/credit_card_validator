(this.webpackJsonpcredit_card_validator=this.webpackJsonpcredit_card_validator||[]).push([[0],{14:function(e,t,n){e.exports=n(59)},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),u=(n(19),n(20),n(1)),i=n(6),s=n.n(i),l=n(13),m=(n(22),n(4)),d=n(23),f=n(37)(),g=function(e){return new Promise((function(t){f(e.substring(0,8),(function(e,n){e&&t(null),t(n)})),f(e)}))},b=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,t={isValid:d.number(r).isValid},e.next=3,g(n);case 3:(a=e.sent)?n.length<13?alert("Invalid Credit Card Number"):t.isValid?m(n)?alert("Account Has Already Been Added"):f(a.country.alpha2)?alert("Card Belongs To a Banned Country"):i(a):alert("Account Number Not Valid"):alert("Could Not Retrieve Card Info");case 5:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(e){var t={countryName:e.country.name,banckName:e.bank.name,alpha2:e.country.alpha2,currency:e.country.currency,number:n},a=JSON.parse(sessionStorage.getItem("saved_accounts"))||[];a.push(t),sessionStorage.setItem("saved_accounts",JSON.stringify(a)),alert("Account Successfully Added")},m=function(e){var t=!1;return(JSON.parse(sessionStorage.getItem("saved_accounts"))||[]).forEach((function(n){n.number===e&&(t=!0)})),t},f=function(e){var t=!1,n=JSON.parse(sessionStorage.getItem("banned_countries"))||[];return n&&n.forEach((function(n){n.alpha2Code===e&&(t=!0)})),t};return r.a.createElement("div",{id:"container"},r.a.createElement("h1",null,"Add Credit Card Number"),r.a.createElement("div",{id:"input_form",className:"column"},r.a.createElement("input",{placeholder:"Enter credit card number...",onChange:function(e){return function(e){return c(e.target.value.trim())}(e)}}),r.a.createElement("button",{onClick:function(){return o()}},"ADD")))},v=(n(54),function(e){return r.a.createElement("div",{id:"container"},r.a.createElement("input",{className:"cityInput",type:"text",onChange:e.onChange,value:e.suggestionState.userInput}),e.suggestionState.showSuggestions&&e.suggestionState.userInput&&e.suggestionState.filteredSuggestions.length>0?r.a.createElement("ul",{id:"suggestions"},e.suggestionState.filteredSuggestions.map((function(t,n){return r.a.createElement("li",{className:"list_items",key:n,onClick:e.onClick},t.name)}))):null)}),h=(n(55),function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(JSON.parse(sessionStorage.getItem("banned_countries"))||[]),i=Object(u.a)(o,2),s=i[0],l=i[1],d=Object(a.useState)({filteredSuggestions:[],showSuggestions:!1,userInput:""}),f=Object(u.a)(d,2),g=f[0],b=f[1];Object(a.useEffect)((function(){sessionStorage.setItem("banned_countries",JSON.stringify(s))}),[s]),Object(a.useEffect)((function(){fetch("https://restcountries.eu/rest/v2/all",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=function(e){var t=[];return Object(m.a)(e).forEach((function(e){t.push({name:e.name,alpha2Code:e.alpha2Code})})),t}(e);c(t)})).catch((function(e){return e}))}),[]);return r.a.createElement("div",{id:"container"},r.a.createElement("h1",null,"Banned Accounts"),r.a.createElement("div",{id:"banned_form",className:"column"},r.a.createElement(v,{suggestions:n,onChange:function(e){return function(e){var t=n,a=e.currentTarget.value,r=t.filter((function(e){return e.name.toLowerCase().indexOf(a.toLowerCase())>-1}));b({filteredSuggestions:r,showSuggestions:!0,userInput:e.currentTarget.value})}(e)},onClick:function(e){return function(e){b({filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText})}(e)},suggestionState:g}),r.a.createElement("button",{onClick:function(){return function(){if(g.userInput.length>0){for(var e=!1,t=null,a=0;a<n.length;a++){if(n[a].name.toLowerCase()===g.userInput.toLowerCase().trim()){e=!0,t=a;break}}e?l([].concat(Object(m.a)(s),[n[t]])):alert("Country Not Found ..."),b({userInput:""})}else alert("Please enter a city name ...")}()}},"Add to banned")),s&&s.length>0?r.a.createElement("div",{id:"list_wrapper"},s.map((function(e,t){return r.a.createElement("span",{key:t,onClick:function(){return function(e){var t=s.filter((function(t){return t.name!==e}));l(t)}(e.name)}},e.name)}))):r.a.createElement("div",{id:"no_banned_accounts_display"},r.a.createElement("h1",null,"No countries have been banned")))}),p=(n(56),function(){var e=Object(a.useState)(JSON.parse(sessionStorage.getItem("saved_accounts"))||[]),t=Object(u.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){sessionStorage.setItem("saved_accounts",JSON.stringify(n))}),[n]);return r.a.createElement("div",{className:"account_container"},n&&n.length>0?r.a.createElement("div",null,r.a.createElement("h1",null,"Saved Accounts"),n.map((function(e,t){return r.a.createElement("div",{className:"account_item_col"},r.a.createElement("div",{className:"account_items",key:t,onClick:function(){return function(e){var t=n.filter((function(t){return t.number!==e}));c(t)}(e.number)}},r.a.createElement("h5",{id:"account_number"},"Account Number : ",e.number),r.a.createElement("br",null),r.a.createElement("h5",{id:"alpha"},e.alpha2)))}))):r.a.createElement("div",null,"No Saved Accounts"))}),E=(n(57),function(e){return r.a.createElement("div",{className:"popup-box"},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"close-icon",onClick:e.handleClose},"x"),e.content))}),S=(n(58),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(u.a)(o,2),s=i[0],l=i[1],m=Object(a.useState)(!1),d=Object(u.a)(m,2),f=d[0],g=d[1],v=function(){n?c(!1):s?l(!1):f&&g(!1)},S=function(e){var t=e.target.getAttribute("name");"add"===t?c(!n):"view"===t?l(!s):"banned"===t&&g(!f)};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"action_buttons"},r.a.createElement("button",{className:"btn",name:"add",onClick:function(e){return S(e)}},"ADD"),n&&r.a.createElement(E,{content:r.a.createElement(b,null),handleClose:v}),r.a.createElement("button",{className:"btn",name:"view",onClick:function(e){return S(e)}},"VIEW"),s&&r.a.createElement(E,{content:r.a.createElement(p,null),handleClose:v}),r.a.createElement("button",{className:"btn",name:"banned",onClick:function(e){return S(e)}},"BANNED"),f&&r.a.createElement(E,{content:r.a.createElement(h,null),handleClose:v})))});var C=function(){return r.a.createElement(S,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.59ed0742.chunk.js.map